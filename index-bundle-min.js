global=this,function(t){function e(t,e,i,o,n){this.id=t,this.dirname=e,this.filename=e+"/"+i,this.dependencies=o,this.factory=n}for(var i,o={},n=0;n<t.length;n++){var r=t[n];r=t[n]=new e(r[0],r[1],r[2],r[3],r[4]),o[r.filename]=r}return e.prototype._require=function(){var e=this;if(void 0===e.exports){e.exports={};var o=function(i){var o=e.dependencies[i],n=t[o];if(!n)throw new Error("Bundle is missing a dependency: "+i);return n._require()};o.main=i,e.exports=e.factory(o,e.exports,e,e.filename,e.dirname)||e.exports}return e.exports},e.prototype.modules=o,function(t){i=o[t],i._require()}}([["animator.js","blick","animator.js",{raf:30},function(t,e,i,o,n){"use strict";function r(t){var e=this;e._requestAnimation=t||h,e.controllers=[],e._animate=function(){try{e.animate(Date.now())}catch(t){throw e.requestAnimation(),t}}}function s(t,e){this.component=t,this.controller=e,this.measure=!1,this.transition=!1,this.animate=!1,this.draw=!1,this.redraw=!1}var h=t("raf");i.exports=r,r.prototype.requestAnimation=function(){this.requested||this._requestAnimation(this._animate),this.requested=!0},r.prototype.animate=function(t){this.requested=!1;for(var e=0;e<this.controllers.length;e++){var i=this.controllers[e];i.measure&&(i.component.measure(t),i.measure=!1)}for(var e=0;e<this.controllers.length;e++){var i=this.controllers[e];i.transition&&(i.draw||i.redraw?this.requestAnimation():(i.component.transition(t),i.transition=!1))}for(var e=0;e<this.controllers.length;e++){var i=this.controllers[e];i.animate&&(i.component.animate(t),this.requestAnimation())}for(var e=0;e<this.controllers.length;e++){var i=this.controllers[e];i.draw&&(i.component.draw(t),i.draw=!1)}for(var e=0;e<this.controllers.length;e++){var i=this.controllers[e];i.redraw&&(i.component.redraw(t),i.redraw=!1)}},r.prototype.add=function(t){var e=new s(t,this);return this.controllers.push(e),e},s.prototype.destroy=function(){},s.prototype.requestMeasure=function(){if(!this.component.measure)throw new Error("Can't requestMeasure because component does not implement measure");this.measure=!0,this.controller.requestAnimation()},s.prototype.cancelMeasure=function(){this.measure=!1},s.prototype.requestTransition=function(){if(!this.component.transition)throw new Error("Can't requestTransition because component does not implement transition");this.transition=!0,this.controller.requestAnimation()},s.prototype.cancelTransition=function(){this.transition=!1},s.prototype.requestAnimation=function(){if(!this.component.animate)throw new Error("Can't requestAnimation because component does not implement animate");this.animate=!0,this.controller.requestAnimation()},s.prototype.cancelAnimation=function(){this.animate=!1},s.prototype.requestDraw=function(){if(!this.component.draw)throw new Error("Can't requestDraw because component does not implement draw");this.draw=!0,this.controller.requestAnimation()},s.prototype.cancelDraw=function(){this.draw=!1},s.prototype.requestRedraw=function(){if(!this.component.redraw)throw new Error("Can't requestRedraw because component does not implement redraw");this.redraw=!0,this.controller.requestAnimation()},s.prototype.cancelRedraw=function(){this.redraw=!1}}],["ready.js","domready","ready.js",{},function(t,e,i,o,n){!function(t,e){"undefined"!=typeof i?i.exports=e():"function"==typeof define&&"object"==typeof define.amd?define(e):this[t]=e()}("domready",function(){var t,e=[],i=document,o=i.documentElement.doScroll,n="DOMContentLoaded",r=(o?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);return r||i.addEventListener(n,t=function(){for(i.removeEventListener(n,t),r=1;t=e.shift();)t()}),function(t){r?setTimeout(t,0):e.push(t)}})}],["window.js","global","window.js",{},function(t,e,i,o,n){"undefined"!=typeof window?i.exports=window:"undefined"!=typeof global?i.exports=global:"undefined"!=typeof self?i.exports=self:i.exports={}}],["document.js","gutentag","document.js",{koerper:28},function(t,e,i,o,n){"use strict";i.exports=t("koerper")}],["scope.js","gutentag","scope.js",{},function(t,e,i,o,n){"use strict";function r(){this.root=this,this.components=Object.create(null),this.componentsFor=Object.create(null)}i.exports=r,r.prototype.nest=function(){var t=Object.create(this);return t.parent=this,t.caller=this.caller&&this.caller.nest(),t},r.prototype.nestComponents=function(){var t=this.nest();return t.components=Object.create(this.components),t.componentsFor=Object.create(this.componentsFor),t},r.prototype.set=function(t,e){console.log((new Error).stack),this.hookup(t,e)},r.prototype.hookup=function(t,e){var i=this;i.components[t]=e,i["this"].hookup?i["this"].hookup(t,e,i):i["this"].add&&i["this"].add(e,t,i);var o=i["this"].exports&&i["this"].exports[t];if(o){var n=i.caller.id;i.caller.hookup(n+":"+o,e)}}}],["text.html","gutentag","text.html",{"./text":6},function(t,e,i,o,n){"use strict";i.exports=t("./text")}],["text.js","gutentag","text.js",{},function(t,e,i,o,n){"use strict";function r(t,e){var i=t.ownerDocument.createTextNode("");t.appendChild(i),this.node=i,this.defaultText=e.argument.innerText,this._value=null}i.exports=r,Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,null==t?this.node.data=this.defaultText:this.node.data=""+t}})}],["index.js","hashbind","index.js",{rezult:31},function(t,e,i,o,n){"use strict";function r(t){function e(t){i.load()}var i=this;this.window=t,this.window.addEventListener("hashchange",e),this.last="",this.cache={},this.values={},this.bound={},this.load()}function s(t,e){this.hash=t,this.key=e,this.def=void 0,this.value=t.values[e],this.parse=a,this.valToString=h,this.listener=null,this.listeners=[],this.notify=this.notifyNoop}function h(t){return t===!1?void 0:t===!0?"":""+t}function a(t){return""===t||"true"===t?new l(null,!0):"false"===t?new l(null,!1):"null"===t?new l(null,null):new l(null,t)}var l=t("rezult");i.exports=r,r.prototype.load=function(){if(this.window.location.hash!==this.last){this.last=this.window.location.hash;for(var t=this.last.slice(1).split("&"),e={},i=0;i<t.length;i++){var o=t[i].split("="),n=unescape(o[0]),r=unescape(o[1])||"";if(this.cache[n]!==r)if(this.cache[n]=r,this.bound[n])this.bound[n].onChange();else{var s=a(r);s.err||(this.values[n]=s.value)}e[n]=!0}this.prune(e)}},r.prototype.prune=function(t){t||(t={});for(var e=Object.keys(this.cache),i=0;i<e.length;i++){var o=e[i];t[o]||(this.bound[o]?this.bound[o].reset():(delete this.cache[o],delete this.values[o]))}},r.prototype.save=function(){for(var t=[],e=Object.keys(this.cache),i=0;i<e.length;i++){var o=e[i];this.bound[o]||(this.cache[o]=h(this.values[o]));var n=this.cache[o],r=""+escape(o);void 0!==n&&(""!==n&&(r+="="+escape(n)),t.push(r))}var s=t.join("&");s&&(s="#"+s),this.window.location.hash=this.last=s},r.prototype.bind=function(t){if(this.bound[t])throw new Error("key already bound");var e=new s(this,t);return this.bound[t]=e,e},r.prototype.getStr=function(t){return this.cache[t]},r.prototype.get=function(t){return this.values[t]},r.prototype.set=function(t,e,i){var o=this.bound[t]||this.bind(t);return o.set(e,i)},s.prototype.load=function(){var t=this.hash.cache[this.key];if(void 0!==t){var e=this.parse(t);if(e.err)return this;var i=e.value;this.value!==i&&(this.value=i,this.hash.values[this.key]=this.value,this.notify())}return this},s.prototype.save=function(){this.hash.values[this.key]=this.value;var t=this.valToString(this.value);return this.hash.cache[this.key]!==t&&(this.hash.cache[this.key]=t,this.hash.save()),this},s.prototype.notifyNoop=function(){return this},s.prototype.notifyOne=function(){return this.listener(this.value),this},s.prototype.notifyAll=function(){for(var t=0;t<this.listeners.length;t++)this.listeners[t].call(this,this.value);return this},s.prototype.setParse=function(t,e){return this.parse=t||a,this.load(),e&&this.setToString(e),this},s.prototype.setToString=function(t){return this.valToString=t,void 0!==this.value&&this.save(),this},s.prototype.addListener=function(t){return this.listeners.length?this.listeners.push(t):this.listener?(this.listeners=[this.listener,t],this.listener=null,this.notify=this.notifyAll):(this.listener=t,this.notify=this.notifyOne),void 0!==this.value&&this.notify(),this},s.prototype.setDefault=function(t){var e=null;return e="string"==typeof t?this.parse(t).toValue():t,this.def=e,void 0===this.value&&(this.value=this.def,this.save()),this},s.prototype.onChange=function(){this.load()},s.prototype.get=function(){return this.value},s.prototype.reset=function(){return this.value!==this.def&&(this.value=this.def,this.save()),this},s.prototype.set=function(t,e){var i=null;if("string"==typeof t){var o=this.parse(t);if(e){if(e(o.err,t,o.value),o.err)return void 0;i=o.value}else i=o.toValue()}else i=t;return this.value!==i&&(this.value=i,this.notify(),this.save()),this.value}}],["colorgen.js","hexant","colorgen.js",{husl:27},function(t,e,i,o,n){"use strict";function r(t){var e=/^(\w+)(?:\((.+)\))?$/.exec(t);if(!e)return a;var i=e[1],o=u[i];if(!o)return a;var n=e[2]?e[2].split(/, */):[];if(n)try{return o.apply(null,n)}catch(r){return a}return o}function s(t){return t.genString||"hue"}function h(t,e){function i(i){var o=t*(1+(i-1)/3)%360;return function(t){for(var i=100/(t+1),n=[],r=i,s=0;t>s;r+=i,s++)n.push(l.toHex(o,e,r));return n}}return t=parseInt(t,10)||0,e=parseInt(e,10)||100,0===t&&(t=360),i.genString="light("+t.toString()+", "+e.toString()+")",i}function a(t,e){function i(i){var r=(t+o*i).toFixed(1)+"%",s=(e+n*i).toFixed(1)+"%",h=", "+r+", "+s+")";return function(t){for(var e=360/t,i=[],o=0;t>o;o++){var n=Math.round(o*e).toString();i.push("hsl("+n+h)}return i}}t=parseInt(t,10)||70,e=parseInt(e,10)||40;var o=t>70?-10:10,n=e>70?-10:10;return i.genString="hue("+t+", "+e+")",i}var l=t("husl"),u={};i.exports.gens=u,i.exports.parse=r,i.exports.toString=s,u.light=h,u.hue=a}],["coord.js","hexant","coord.js",{},function(t,e,i,o,n){"use strict";function r(t,e){return this instanceof r?(this.x=t,void(this.y=e)):new r(t,e)}function s(t,e,i){if(!(this instanceof s))return new s(t,e,i);if(t+e+i!==0)throw new Error("CubePoint invariant violated: "+t+" + "+e+" + "+i+" = "+(t+e+i));this.x=t,this.y=e,this.z=i}function h(t,e){return this instanceof h?(this.q=t,void(this.r=e)):new h(t,e)}function a(t,e){return this instanceof a?(this.topLeft=t?t.toOddQOffset():h(),void(this.bottomRight=e?e.toOddQOffset():h())):new a(t,e)}i.exports.ScreenPoint=r,i.exports.CubePoint=s,i.exports.OddQOffset=h,i.exports.OddQBox=a,r.prototype.type="point.screen",r.prototype.copy=function(){return r(this.x,this.y)},r.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this},r.prototype.toString=function(){return"ScreenPoint("+this.x+", "+this.y+")"},r.prototype.toScreenInto=function(t){return t.x=this.x,t.y=this.y,t},r.prototype.toScreen=function(){return this},r.prototype.scale=function(t){return this.x*=t,this.y*=t,this},r.prototype.mulBy=function(t,e){return this.x*=t,this.y*=e,this},r.prototype.add=function(t){return t.type!==this.type&&(t=t.toScreen()),this.x+=t.x,this.y+=t.y,this},r.prototype.sub=function(t){return t.type!==this.type&&(t=t.toScreen()),this.x-=t.x,this.y-=t.y,this},s.basis=[s(1,-1,0),s(0,-1,1),s(-1,0,1),s(-1,1,0),s(0,1,-1),s(1,0,-1)],s.prototype.type="point.cube",s.prototype.toString=function(){return"CubePoint("+this.x+", "+this.y+", "+this.z+")"},s.prototype.copy=function(){return s(this.x,this.y,this.z)},s.prototype.copyFrom=function(t){return t.type!==this.type?t.toCubeInto(this):(this.x=t.x,this.y=t.y,this.z=t.z,this)},s.prototype.add=function(t){return t.type!==this.type&&(t=t.toCube()),this.x+=t.x,this.y+=t.y,this.z+=t.z,this},s.prototype.sub=function(t){return t.type!==this.type&&(t=t.toCube()),this.x-=t.x,this.y-=t.y,this.z-=t.z,this},s.prototype.toScreenInto=function(t){return t.x=1.5*this.x,t.y=Math.sqrt(3)*(this.z+this.x/2),t},s.prototype.toScreen=function(){return this.toScreenInto(r())},s.prototype.toCubeInto=function(t){return t.x=this.x,t.y=this.y,t.z=this.z,t},s.prototype.toCube=function(){return this},s.prototype.toOddQOffset=function(){var t=this.x,e=this.z+(this.x-(1&this.x))/2;return h(t,e)},h.prototype.type="offset.odd-q",h.prototype.toString=function(){return"OddQOffset("+this.q+", "+this.r+")"},h.prototype.copy=function(){return h(this.q,this.r)},h.prototype.copyFrom=function(t){return t.type!==this.type?this.copyFrom(t.toOddQOffset()):(this.q=t.q,this.r=t.r,this)},h.prototype.add=function(t){return t.type!==this.type&&(t=t.toOddQOffset()),this.q+=t.q,this.r+=t.r,this},h.prototype.sub=function(t){return t.type!==this.type&&(t=t.toOddQOffset()),this.q-=t.q,this.r-=t.r,this},h.prototype.mulBy=function(t,e){return this.q*=t,this.r*=e,this},h.prototype.toScreenInto=function(t){return t.x=1.5*this.q,t.y=Math.sqrt(3)*(this.r+.5*(1&this.q)),t},h.prototype.toScreen=function(){return this.toScreenInto(r())},h.prototype.toOddQOffset=function(){return this},h.prototype.toCubeInto=function(t){return t.x=this.q,t.z=this.r-(this.q-(1&this.q))/2,t.y=-t.x-t.z,t},h.prototype.toCube=function(){return this.toCubeInto(s())},a.prototype.copy=function(){return new a(this.topLeft.copy(),this.bottomRight.copy())},a.prototype.copyFrom=function(t){return this.topLeft.copy(t.topLeft),this.bottomRight.copy(t.bottomRight),this},a.prototype.toString=function(){return"OddQBox("+this.topLeft.toString()+", "+this.bottomRight.toString()+")"},a.prototype.screenCount=function(t){return this.screenCountInto(r())},a.prototype.screenCountInto=function(t){var e=this.bottomRight.q-this.topLeft.q,i=this.bottomRight.r-this.topLeft.r;return t.x=(3*e+1)/4,t.y=i+(e>1?.5:0),t},a.prototype.contains=function(t){var e=t.toOddQOffset();return e.q>=this.topLeft.q&&e.q<this.bottomRight.q&&e.r>=this.topLeft.r&&e.r<this.bottomRight.r},a.prototype.expandTo=function(t){var e=!1,i=t.toOddQOffset();return i.q<this.topLeft.q?(this.topLeft.q=i.q,e=!0):i.q>=this.bottomRight.q&&(this.bottomRight.q=i.q+1,e=!0),i.r<this.topLeft.r?(this.topLeft.r=i.r,e=!0):i.r>=this.bottomRight.r&&(this.bottomRight.r=i.r+1,e=!0),e}}],["hexant.html","hexant","hexant.html",{"./hexant.js":11,"./prompt.html":19},function(t,e,i,o,n){"use strict";var r=t("./hexant.js"),s=t("./prompt.html"),h=function(t,e){r.apply(this,arguments);var i=t.ownerDocument,o=this.scope=e.root.nestComponents();o.caller=e,o["this"]=this;var n,h,l,u=t,p=[];n=i.createElement("CANVAS"),u.appendChild(n),h=n.actualNode,o.hookup("view",h),h.setAttribute&&h.setAttribute("id","view_l7qt6u"),o.componentsFor.view&&o.componentsFor.view.setAttribute("for","view_l7qt6u"),h.setAttribute&&h.setAttribute("class","hexant-canvas"),p[p.length]=u,u=n,n=u,u=p[p.length-1],p.length--,n=i.createBody(),u.appendChild(n),p[p.length]=u,u=n,n={tagName:"prompt"},n.component=a,l=o.nest(),l.argument=n,l.id="prompt",h=new s(u,l),n=u,u=p[p.length-1],p.length--,o.hookup("prompt",h),h.setAttribute&&h.setAttribute("id","prompt_qn26bm"),o.componentsFor.prompt&&o.componentsFor.prompt.setAttribute("for","prompt_qn26bm"),this.scope.hookup("this",this)};h.prototype=Object.create(r.prototype),h.prototype.constructor=h,h.prototype.exports={},i.exports=h;var a=function(t,e){t.ownerDocument,this.scope=e}}],["hexant.js","hexant","hexant.js",{hashbind:7,rezult:31,"./colorgen.js":8,"./world.js":26,"./view.js":25,"./turmite/index.js":22,"./coord.js":9,"./hextiletree.js":14},function(t,e,i,o,n){"use strict";function r(t,e){function i(){n.playpause()}function o(t){n.onKeyPress(t)}var n=this;this.el=null,this.world=null,this.view=null,this.window=e.window,this.hash=new s(this.window),this.animator=e.animator.add(this),this.lastFrameTime=null,this.frameRate=0,this.frameInterval=0,this.paused=!0,this.prompt=null,this.boundPlaypause=i,this.boundOnKeyPress=o}i.exports=r;var s=t("hashbind"),h=t("rezult"),a=t("./colorgen.js"),l=t("./world.js"),u=t("./view.js"),p=t("./turmite/index.js"),c=t("./coord.js").OddQOffset,d=t("./hextiletree.js"),f=512;r.prototype.hookup=function(t,e,i){"this"===t&&(this.prompt=i.components.prompt,this.el=i.components.view,this.titleBase=this.window.document.title,this.world=new l,this.view=this.world.addView(new u(this.world,this.el)),this.window.addEventListener("keypress",this.boundOnKeyPress),this.el.addEventListener("click",this.boundPlaypause),this.configure())},r.prototype.configure=function(){var t=this;this.hash.bind("colors").setParse(h.lift(a.parse),a.toString).setDefault("light").addListener(function(e){t.onColorGenChange(e)}),this.hash.bind("rule").setParse(p.compile).setDefault("ant(L R)").addListener(function(e){t.onRuleChange(e)}),this.hash.bind("frameRate").setParse(h.lift(parseInt)).setDefault(4).addListener(function(e){t.setFrameRate(e)}),this.hash.bind("labeled").setDefault(!1).addListener(function(e){t.view.setLabeled(e),t.view.redraw()}),this.hash.bind("drawUnvisited").setDefault(!1).addListener(function(e){t.view.drawUnvisited=!!e}),this.hash.bind("drawTrace").setDefault(!1).addListener(function(e){t.view.drawTrace=!!e,t.view.redraw()});var e,i;this.hash.get("fullauto")?(e=!0,i=86400):(e=this.hash.get("autoplay"),i=parseInt(this.hash.get("autorefresh"),10)),!isNaN(i)&&i&&this.window.setTimeout(function(){this.window.location.reload()},1e3*i),e&&this.play()},r.prototype.onColorGenChange=function(t){this.view.setColorGen(t),this.view.redraw()},r.prototype.onRuleChange=function(t){this.window.document.title=this.titleBase+": "+t,this.world.ents[0]?this.world.updateEnt(t,0):this.world.addEnt(t),this.reset()},r.prototype.onKeyPress=function(t){if(t.target===this.window.document.documentElement||t.target===this.window.document.body||t.target===this.el)switch(t.keyCode){case 32:this.playpause();break;case 35:this.toggleLabeled();break;case 42:this.pause(),this.reset();break;case 43:this.hash.set("frameRate",2*this.frameRate);break;case 45:this.hash.set("frameRate",Math.max(1,Math.floor(this.frameRate/2)));break;case 46:this.stepit();break;case 67:case 99:this.promptFor("colors","New Colors:"),t.preventDefault();break;case 84:case 116:this.hash.set("drawTrace",!this.view.drawTrace);break;case 47:this.promptFor("rule",p.ruleHelp),t.preventDefault()}},r.prototype.promptFor=function(t,e){function i(e,i,n){return e?void n(null):void o.hash.set(t,i,function(t){n(t)})}var o=this;if(!o.prompt.active()){var n=o.hash.getStr(t);o.prompt.prompt(e,n,i)}},r.prototype.reset=function(){this.world.tile=new d(c(0,0),2,2),this.view.hexGrid.bounds=this.world.tile.boundingBox().copy(),this.view.hexGrid.updateSize();var t=this.world.ents[0];t.dir=0,this.world.tile.centerPoint().toCubeInto(t.pos);var e=this.world.tile.get(t.pos);this.world.tile.set(t.pos,l.FlagVisited|e),this.el.width=this.el.width,this.view.redraw()},r.prototype.animate=function(t){var e=1;if(this.lastFrameTime){var i=t-this.lastFrameTime;e=Math.min(f,i/this.frameInterval)}else this.lastFrameTime=t;this.world.stepn(e),this.lastFrameTime+=e*this.frameInterval},r.prototype.play=function(){this.lastFrameTime=null,this.animator.requestAnimation(),this.paused=!1},r.prototype.pause=function(){this.lastFrameTime=null,this.animator.cancelAnimation(),this.paused=!0},r.prototype.playpause=function(){this.paused?this.play():this.pause()},r.prototype.stepit=function(){this.paused?this.world.step():this.pause()},r.prototype.setFrameRate=function(t){this.frameRate=t,this.frameInterval=1e3/this.frameRate},r.prototype.toggleLabeled=function(){this.hash.set("labeled",!this.view.labeled)},r.prototype.resize=function(t,e){this.view.resize(t,e)}}],["hexgrid.js","hexant","hexgrid.js",{"./coord.js":9},function(t,e,i,o,n){"use strict";function r(t,e,i){this.canvas=t,this.ctxHex=e,this.bounds=i||h(),this.view=a(),this.cell=a(),this.origin=a(),this.avail=a(),this.cellSize=0,this.scratchPoint=a(),this.boundTopLeft=a(),this.cellXYs=new Float64Array(12)}var s=t("./coord.js"),h=s.OddQBox,a=s.ScreenPoint,l=Math.sqrt(3)/2;i.exports=r,r.prototype.internalize=function(t){return t.toScreenInto(this.scratchPoint).sub(this.boundTopLeft)},r.prototype.toScreen=function(t){return this.internalize(t).scale(this.cellSize).add(this.origin)},r.prototype.circCellPath=function(t){var e=this.toScreen(t);return this.ctxHex.ctx2d.arc(e.x,e.y,this.cellSize,0,2*Math.PI),e},r.prototype.cellPath=r.prototype.hexCellPath=function(t){var e=this.toScreen(t);return this.ctxHex.fullWith(e.x,e.y,this.cellXYs),e},r.prototype.resize=function(t,e){this.avail.x=t,this.avail.y=e,this.updateSize()},r.prototype.updateSize=function(){this.bounds.topLeft.toScreenInto(this.boundTopLeft),this.bounds.screenCountInto(this.view),this.cell.x=this.avail.x/this.view.x,this.cell.y=this.avail.y/this.view.y;var t=this.cell.x/2,e=this.cell.y/2/l;e>t?(this.cellSize=t,this.cell.y=this.cell.x*l):(this.cellSize=e,this.cell.x=2*this.cellSize),this.cellSize<=2?this.cellPath=this.circCellPath:(this.cellPath=this.hexCellPath,this.ctxHex.buildFor(this.cellSize,this.cellXYs)),this.origin.copyFrom(this.cell).scale(.5),this.canvas.width=this.cell.x*this.view.x,this.canvas.height=this.cell.y*this.view.y,this.canvas.style.width=this.canvas.width+"px",this.canvas.style.height=this.canvas.height+"px"}}],["hextile.js","hexant","hextile.js",{"./coord.js":9},function(t,e,i,o,n){"use strict";function r(t,e,i){this.origin=t.toOddQOffset(),this.width=e,this.height=i,this.data=new Uint16Array(this.width*this.height)}var s=t("./coord.js"),h=s.OddQOffset,a=s.OddQBox;i.exports=r,r.prototype.boundingBox=function(){return a(this.origin,h(this.width,this.height))},r.prototype.centerPoint=function(){return h(this.origin.q+Math.floor(this.width/2),this.origin.r+Math.floor(this.height/2))},r.prototype.pointToIndex=function(t){var e=t.toOddQOffset();return(e.r-this.origin.r)*this.width+(e.q-this.origin.q)},r.prototype.get=function(t){return this.data[this.pointToIndex(t)]},r.prototype.set=function(t,e){return this.data[this.pointToIndex(t)]=e,e},r.prototype.eachDataPoint=function(t){var e,i=this.origin.q,o=this.origin.r,n=i+this.width,r=o+this.height,s=h(i,o);for(e=0,s.r=o;s.r<r;s.r++)for(s.q=i;s.q<n;s.q++,e++)t(s,this.data[e])}}],["hextiletree.js","hexant","hextiletree.js",{"./coord.js":9,"./hextile.js":13},function(t,e,i,o,n){"use strict";function r(t,e,i){this.root=new s(t,e,i)}function s(t,e,i){this.origin=t,this.width=e,this.height=i,this.tileWidth=Math.floor(this.width/2),this.tileHeight=Math.floor(this.height/2),this.tiles=[null,null,null,null];var o=l(this.origin.q-this.tileWidth,this.origin.r-this.tileHeight),n=l(this.origin.q+this.tileWidth,this.origin.r+this.tileHeight);this.box=u(o,n)}var h=t("./coord.js"),a=t("./hextile.js"),l=h.OddQOffset,u=h.OddQBox;i.exports=r;var p=[3,2,1,0],c=[l(0,0),l(1,0),l(0,1),l(1,1)],d=[l(-1,-1),l(1,-1),l(-1,1),l(1,1)];r.prototype.dump=function(){return this.root.dump()},s.prototype.dump=function(){for(var t=["TreeNode @"+this.origin.toString(),"  box: "+this.box.toString()],e=0;e<this.tiles.length;e++){var i=["null"],o=this.tiles[e];o&&(i=o.dump().split(/\n/)),t.push("["+e+"]: "+i[0]);for(var n=1;n<i.length;n++)t.push("     "+i[n])}return t.join("\n")},a.prototype.dump=function(){for(var t=["Tile @"+this.origin.toString()],e=[],i=0;i<this.data.length;i++)i&&i%this.width===0&&(t.push(e.join(" ")),e=[]),e.push(this.data[i].toString());return t.push(e.join(" ")),t.join("\n")},r.prototype.boundingBox=function(){return this.root.boundingBox()},r.prototype.eachDataPoint=function(t){this.root.eachDataPoint(t)},r.prototype.centerPoint=function(){return this.root.centerPoint()},r.prototype.get=function(t){return this.root.get(t)},r.prototype.set=function(t,e){for(var i=t.toOddQOffset();!this.root.box.contains(i);)this.root=this.root.expand();return this.root._set(i,e)},s.prototype.expand=function(){for(var t=new s(this.origin.copy(),2*this.width,2*this.height),e=0;e<this.tiles.length;e++)t.tiles[e]=this.growTile(e);return t},s.prototype.growTile=function(t){var e=this.tiles[t];return e?e.grow(t):null},a.prototype.grow=function(t){var e=c[t].copy().mulBy(this.width,this.height),i=this.origin.copy().add(e),o=new s(i,2*this.width,2*this.height);return o.tiles[p[t]]=this,o},s.prototype.grow=function(t){var e=d[t].copy().mulBy(this.tileWidth,this.tileHeight),i=this.origin.copy().add(e),o=new s(i,2*this.width,2*this.height);return o.tiles[p[t]]=this,o},s.prototype.boundingBox=function(){return this.box},s.prototype.eachDataPoint=function(t){for(var e=0;e<this.tiles.length;e++){var i=this.tiles[e];i?i.eachDataPoint(t):this._fakeDataPoints(e,t)}},s.prototype._fakeDataPoints=function(t,e){var i=1&t,o=t>>1,n=this.origin.q+(i?0:-this.tileWidth),r=this.origin.r+(o?0:-this.tileHeight),s=n+this.tileWidth,h=r+this.tileHeight,a=l(n,r);for(a.r=r;a.r<h;a.r++)for(a.q=n;a.q<s;a.q++)e(a,0)},s.prototype.centerPoint=function(){return this.origin},s.prototype.get=function(t){var e=t.toOddQOffset();if(!this.box.contains(e))return NaN;var i=e.q<this.origin.q?0:1,o=e.r<this.origin.r?0:1,n=2*o+i,r=this.tiles[n];return r?r.get(t):0},s.prototype.set=function(t,e){var i=t.toOddQOffset();if(!this.box.contains(i))throw new Error("set out of bounds");return this._set(i,e)},s.prototype._set=function(t,e){var i=t.q<this.origin.q?0:1,o=t.r<this.origin.r?0:1,n=2*o+i,r=this.tiles[n];if(!r){var s=l(this.origin.q,this.origin.r);t.q<s.q&&(s.q-=this.tileWidth),t.r<s.r&&(s.r-=this.tileHeight),r=new a(s,this.tileWidth,this.tileHeight),this.tiles[n]=r}return r.set(t,e)}}],["index.js","hexant","index.js",{domready:1,"global/window":2,"gutentag/scope":4,"gutentag/document":3,blick:0,"./main.html":16},function(t,e,i,o,n){"use strict";function r(){var t=new u;t.window=a,t.animator=new c;var e=new p(a.document.body);a.hexant=new d(e.documentElement,t),a.addEventListener("resize",s),s()}function s(){var t=Math.max(l.documentElement.clientWidth,a.innerWidth||0),e=Math.max(l.documentElement.clientHeight,a.innerHeight||0);a.hexant.resize(t,e)}var h=t("domready"),a=t("global/window"),l=a.document,u=t("gutentag/scope"),p=t("gutentag/document"),c=t("blick"),d=t("./main.html");h(r)}],["main.html","hexant","main.html",{"./main.js":17,"./hexant.html":10},function(t,e,i,o,n){"use strict";var r=t("./main.js"),s=t("./hexant.html"),h=function(t,e){r.apply(this,arguments);var i=t.ownerDocument,o=this.scope=e.root.nestComponents();o.caller=e,o["this"]=this;var n,h,l,u=t,p=[];n=i.createBody(),u.appendChild(n),p[p.length]=u,u=n,n={tagName:"hexant"},n.component=a,l=o.nest(),l.argument=n,l.id="view",h=new s(u,l),n=u,u=p[p.length-1],p.length--,o.hookup("view",h),h.setAttribute&&h.setAttribute("id","view_2l18lk"),o.componentsFor.view&&o.componentsFor.view.setAttribute("for","view_2l18lk"),this.scope.hookup("this",this)};h.prototype=Object.create(r.prototype),h.prototype.constructor=h,h.prototype.exports={},i.exports=h;var a=function(t,e){t.ownerDocument,this.scope=e}}],["main.js","hexant","main.js",{},function(t,e,i,o,n){"use strict";function r(){this.view=null}r.prototype.hookup=function(t,e){"view"===t&&(this.view=e)},r.prototype.resize=function(t,e){this.view.resize(t,e)},i.exports=r}],["ngoncontext.js","hexant","ngoncontext.js",{},function(t,e,i,o,n){"use strict";function r(t,e){this.ctx2d=e,this.degree=t,this.offset=0,this.step=2*Math.PI/this.degree,this.cos=null,this.sin=null,this.setOffset(0)}i.exports=r,r.prototype.setOffset=function(t){this.offset=t,this.cos=new Float64Array(this.degree),this.sin=new Float64Array(this.degree);for(var e=t,i=0;i<this.degree;i++)this.cos[i]=Math.cos(e),this.sin[i]=Math.sin(e),e+=this.step},r.prototype.buildFor=function(t,e){for(var i=0,o=0;i<this.degree;i++)e[o++]=t*this.cos[i],e[o++]=t*this.sin[i]},r.prototype.fullWith=function(t,e,i){this.ctx2d.moveTo(t+i[0],e+i[1]);for(var o=1,n=2;o<this.degree;o++)this.ctx2d.lineTo(t+i[n++],e+i[n++])},r.prototype.full=function(t,e,i){if(2>=i)this.ctx2d.arc(t,e,i,0,2*Math.PI);else{this.ctx2d.moveTo(t+i*this.cos[0],e+i*this.sin[0]);for(var o=1;o<this.degree;o++)this.ctx2d.lineTo(t+i*this.cos[o],e+i*this.sin[o])}},r.prototype.arc=function(t,e,i,o,n,r){var s=0,h=0;if("number"==typeof o&&(s=o%this.degree),"number"==typeof n&&(h=n%this.degree),s===h)return void this.full(t,e,i);if(r)return void this.arc(t,e,i,h,this.degree-s,!1);var a=this.degree+h-s;a>this.degree&&(a-=this.degree);var l=s,u=t+i*this.cos[l],p=e+i*this.sin[l];this.ctx2d.moveTo(u,p);for(var c=1;a>=c;c++)l=(l+1)%this.degree,u=t+i*this.cos[l],p=e+i*this.sin[l],this.ctx2d.lineTo(u,p)},r.prototype.wedge=function(t,e,i,o,n,r){var s=0,h=0;if("number"==typeof o&&(s=o%this.degree),"number"==typeof n&&(h=n%this.degree),s===h)return void this.full(t,e,i);if(r)return void this.wedge(t,e,i,h,s,!1);var a=this.degree+h-s;a>this.degree&&(a-=this.degree),this.ctx2d.moveTo(t,e);for(var l=s,u=0;a>=u;u++){var p=t+i*this.cos[l],c=e+i*this.sin[l];this.ctx2d.lineTo(p,c),l=(l+1)%this.degree}}}],["prompt.html","hexant","prompt.html",{"./prompt.js":20,"gutentag/text.html":5},function(t,e,i,o,n){"use strict";var r=t("./prompt.js"),s=(t("gutentag/text.html"),function(t,e){r.apply(this,arguments);var i=t.ownerDocument,o=this.scope=e.root.nestComponents();o.caller=e,o["this"]=this;var n,s,h=t,a=[];n=i.createElement("DIV"),h.appendChild(n),s=n.actualNode,o.hookup("box",s),s.setAttribute&&s.setAttribute("id","box_ki6bl0"),o.componentsFor.box&&o.componentsFor.box.setAttribute("for","box_ki6bl0"),s.setAttribute&&s.setAttribute("class","prompt"),s.setAttribute&&s.setAttribute("style","display: none"),a[a.length]=h,h=n,n=i.createElement("DIV"),h.appendChild(n),s=n.actualNode,o.hookup("help",s),s.setAttribute&&s.setAttribute("id","help_c4jj3g"),o.componentsFor.help&&o.componentsFor.help.setAttribute("for","help_c4jj3g"),s.setAttribute&&s.setAttribute("class","help"),a[a.length]=h,h=n,n=h,h=a[a.length-1],a.length--,n=i.createElement("TEXTAREA"),h.appendChild(n),s=n.actualNode,o.hookup("text",s),s.setAttribute&&s.setAttribute("id","text_ogadxf"),o.componentsFor.text&&o.componentsFor.text.setAttribute("for","text_ogadxf"),a[a.length]=h,h=n,n=h,h=a[a.length-1],a.length--,n=i.createElement("DIV"),h.appendChild(n),s=n.actualNode,o.hookup("error",s),s.setAttribute&&s.setAttribute("id","error_gwkfp4"),o.componentsFor.error&&o.componentsFor.error.setAttribute("for","error_gwkfp4"),s.setAttribute&&s.setAttribute("class","error"),s.setAttribute&&s.setAttribute("style","display: none"),a[a.length]=h,h=n,n=h,h=a[a.length-1],a.length--,h.appendChild(i.createTextNode("Press <Ctrl>-Enter to submit.")),n=h,h=a[a.length-1],a.length--,this.scope.hookup("this",this)});s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.exports={},i.exports=s}],["prompt.js","hexant","prompt.js",{},function(t,e,i,o,n){"use strict";function r(t,e){function i(t){s.onKeyDown(t)}function o(t){s.onKeyUp(t)}function n(t){s.cancel()}function r(t,e,i){s.finished(t,e,i)}var s=this;this.box=null,this.help=null,this.error=null,this.text=null,this.callback=null,this.boundOnKeyDown=i,this.boundOnKeyUp=o,this.boundCancel=n,this.boundFinished=r,this.lastEnter=0}i.exports=r,r.prototype.active=function(){return!!this.callback},r.prototype.prompt=function(t,e,i){this.help.innerText=t,this.text.value=e,this.callback=i,this.box.style.display="",this.resizeTextRows(),this.text.select(),this.text.focus()},r.prototype.resizeTextRows=function(){var t=this.text.value.split(/\n/);this.text.rows=t.length+1},r.prototype.finish=function(){var t=this.text.value,e=this.callback;e?(t=t.replace(/(?:\r?\n)+$/,""),e(!1,t,this.boundFinished)):this.boundFinished(null)},r.prototype.cancel=function(){var t=this.callback;t&&t(!0,null,this.boundFinished)},r.prototype.finished=function(t,e,i){return t?(this.error.innerText=""+t,this.error.style.display="",e&&(this.help.innerText=e),void(i&&(this.text.value=i))):void this.hide()},r.prototype.hide=function(){this.lastEnter=0,this.box.style.display="none",this.callback=null,this.text.value="",this.help.innerText="",this.error.style.display="none",this.error.innerText=""},r.prototype.hookup=function(t,e,i){"this"===t&&(this.box=i.components.box,this.help=i.components.help,this.error=i.components.error,this.text=i.components.text,this.text.addEventListener("keydown",this.boundOnKeyDown),this.text.addEventListener("keyup",this.boundOnKeyUp),
this.text.addEventListener("blur",this.boundCancel))},r.prototype.onKeyDown=function(t){switch(t.keyCode){case 13:t.ctrlKey&&t.preventDefault();break;case 27:return this.cancel(),void t.preventDefault()}this.resizeTextRows()},r.prototype.onKeyUp=function(t){switch(t.keyCode){case 13:if(Date.now()-this.lastEnter<1e3||t.ctrlKey)return t.preventDefault(),void this.finish();this.lastEnter=Date.now();break;default:this.lastEnter=0}this.resizeTextRows()}}],["turmite/constants.js","hexant/turmite","constants.js",{},function(t,e,i,o,n){"use strict";var r={};r.RelForward=1,r.RelBackward=2,r.RelLeft=4,r.RelRight=8,r.RelDoubleLeft=16,r.RelDoubleRight=32,r.AbsNorthWest=64,r.AbsNorth=128,r.AbsNorthEast=256,r.AbsSouthEast=512,r.AbsSouth=1024,r.AbsSouthWest=2048;var s=[];s[r.RelBackward]=3,s[r.RelDoubleLeft]=-2,s[r.RelLeft]=-1,s[r.RelForward]=0,s[r.RelRight]=1,s[r.RelDoubleRight]=2;var h=[];h[r.AbsSouthEast]=0,h[r.AbsSouth]=1,h[r.AbsSouthWest]=2,h[r.AbsNorthWest]=3,h[r.AbsNorth]=4,h[r.AbsNorthEast]=5;var a=[];a[r.RelBackward]="B",a[r.RelDoubleLeft]="BL",a[r.RelLeft]="L",a[r.RelForward]="F",a[r.RelRight]="R",a[r.RelDoubleRight]="BR";var l=[];l.B=r.RelBackward,l.P=r.RelDoubleLeft,l.L=r.RelLeft,l.F=r.RelForward,l.R=r.RelRight,l.S=r.RelDoubleRight,i.exports.Turn=r,i.exports.RelTurnDelta=s,i.exports.AbsTurnDir=h,i.exports.RelTurnSymbols=a,i.exports.RelSymbolTurns=l}],["turmite/index.js","hexant/turmite","index.js",{"../coord.js":9,"./constants.js":21,"./parse.js":23},function(t,e,i,o,n){"use strict";function r(){this.numStates=0,this.numColors=0,this.rules=new Uint32Array(65536),this.specString="",this.dir=0,this.oldDir=0,this.pos=h(0,0,0),this.oldPos=h(0,0,0),this.state=0,this.stateKey=0,this.size=.5,this.index=0}var s=t("../coord.js"),h=s.CubePoint,a=t("./constants.js"),l=t("./parse.js");i.exports=r,r.ruleHelp="\nant(<number>?<turn> ...) , turns:\n  - L=left, R=right\n  - B=back, F=forward\n  - P=port, S=starboard (these are rear-facing left/right)\n",r.prototype.clearRules=function(){for(var t=0;t<this.rules.length;t++)this.rules[t]=0},r.parse=function(t){return l(t)},r.compile=function u(t,e){var i=r.parse(t);if(i.err)return i;var u=i.value;return u(e||new r)},r.prototype.toString=function(){return this.specString?this.specString:"<UNKNOWN turmite>"},r.prototype.step=function(t){var e=t.tile,i=e.get(this.pos),o=255&i,n=65280&i,r=this.stateKey|o,s=this.rules[r],a=65535&s,l=(16711680&s)>>16,u=(4278190080&s)>>24;if(n|=256,i=n|l,e.set(this.pos,i),this.oldDir=this.dir,this.oldPos.copyFrom(this.pos),u!==this.state&&(this.state=u,this.stateKey=u<<8),a=this.executeTurn(a),this.pos.add(h.basis[this.dir]),0!==a)throw new Error("turmite forking unimplemented")},r.prototype.executeTurn=function(t){for(var e=1;32>=e;e<<=1)if(t&e)return this.dir=(6+this.oldDir+a.RelTurnDelta[e])%6,t&~e;for(;2048>=e;e<<=1)if(t&e)return this.dir=a.AbsTurnDir[e],t&~e;return 0}}],["turmite/parse.js","hexant/turmite","parse.js",{rezult:31,"../world.js":26,"./rle-builder.js":24,"./constants.js":21},function(t,e,i,o,n){"use strict";function r(t){for(var e=[h],i=0;i<e.length;i++){var o=e[i](t);if(o.err||o.value)return o}return new l(new Error("invalid spec string"),null)}function s(t){t=t.toUpperCase();for(var e=[],i=0;i<t.length;i++){var o=y[t[i]];if(void 0===o)return void 0;e.push(o)}return"ant("+e.join(" ")+")"}function h(t){function e(t){var e=0,i=0,s=e<<u.ColorShift,h=s|i,a=h;t.clearRules();for(var p=0;p<r.length;p++)for(var c=r[p].mult,d=r[p].relturn,f=0;c>f;f++)a=s|++i&u.MaxColor,t.rules[h]=a<<u.TurnShift|d,h=a;for(;i>0&&i<=u.MaxColor;){var m=s|i%n;a=s|++i&u.MaxColor;var v=65535&t.rules[m];t.rules[h]=a<<u.TurnShift|v,h=a}return t.state=e,t.specString=y,t.numColors=n,t.numStates=o,new l(null,t)}var i=d.exec(t);if(i&&(t=s(i[1])),i=f.exec(t),!i)return new l(null,null);t=i[1];var o=1,n=0,r=[],h=p("ant("," ",")");a(/\s*(\d+)?(B|P|L|F|R|S)\s*/g,t.toUpperCase(),function(t,e,i){var o=e?parseInt(e,10):1,s=c.RelSymbolTurns[i];return n+=o,n>u.MaxColor?new l(new Error("too many colors needed for ant ruleset"),null):(r.push({mult:o,relturn:s}),void h(o,i))});var y=h(0,"");return new l(null,e)}function a(t,e,i){for(var o=0,n=t.exec(e);n&&o===n.index;o+=n[0].length,n=t.exec(e))i.apply(null,n)}i.exports=r;var l=t("rezult"),u=t("../world.js"),p=t("./rle-builder.js"),c=t("./constants.js"),d=/^\s*([lrwefaLRWEFA]+)\s*$/,f=/^\s*ant\(\s*(.+?)\s*\)\s*$/,y={L:"L",R:"R",W:"P",E:"S",F:"B",A:"F"}}],["turmite/rle-builder.js","hexant/turmite","rle-builder.js",{},function(t,e,i,o,n){"use strict";function r(t,e,i){function o(t,e){if(o.cur!==e&&(o.cur&&o.count&&(o.init?o.init=!1:o.str+=o.sep,o.count>1&&(o.str+=o.count.toString()),o.str+=o.cur),o.cur=e||"",o.count=0),0===t&&!e){var i=o.str+o.suffix;return o.cur="",o.count=0,o.str=o.prefix,o.init=!1,i}return o.count+=t,""}return o.prefix=t,o.sep=e,o.suffix=i,o.cur="",o.count=0,o.str=o.prefix,o.init=!0,o}i.exports=r}],["view.js","hexant","view.js",{"./hexgrid.js":12,"./ngoncontext.js":18,"./world.js":26},function(t,e,i,o,n){"use strict";function r(t,e){return this instanceof r?(this.world=t,this.canvas=e,this.ctx2d=this.canvas.getContext("2d"),this.ctxHex=new a(6,this.ctx2d),this.labeled=!1,this.drawUnvisited=!1,this.drawTrace=!1,this.antCellColorGen=null,this.emptyCellColorGen=null,this.bodyColorGen=null,this.headColorGen=null,this.antCellColors=[],this.emptyCellColors=[],this.bodyColors=[],this.headColors=[],this.lastEntPos=[],this.hexGrid=new h(this.canvas,this.ctxHex,this.world.tile.boundingBox().copy()),void(this.needsRedraw=!1)):new r(t,e)}function s(t,e){var i=e,o=t[e];for(i=e++;e<t.length;e++,i++)t[i]=t[e];return t[i]=o,i}var h=t("./hexgrid.js"),a=t("./ngoncontext.js"),l=t("./world.js");i.exports=r,r.prototype.resize=function(t,e){this.hexGrid.resize(t,e),this.redraw()},r.prototype.redraw=function(){var t=this,e=t.world.ents,i=this.drawTrace?this.emptyCellColors:this.antCellColors;t.world.tile.eachDataPoint(this.drawUnvisited?function(e,o){t.drawCell(e,o&l.MaskColor,i)}:function(e,o){o&l.FlagVisited&&t.drawCell(e,o&l.MaskColor,i)});for(var o=0;o<e.length;o++)for(t.drawEnt(e[o]),o=0;o<e.length;o++)this.lastEntPos[o].copyFrom(e[o].pos)},r.prototype.updateEnts=function(){var t;for(t=0;t<this.world.ents.length;t++){var e=this.world.ents[t];t<this.lastEntPos.length?this.lastEntPos[t].copyFrom(e.pos):this.lastEntPos.push(e.pos.copy())}for(;t<this.lastEntPos.length;)this.lastEntPos.pop();this.updateColors(!1)},r.prototype.addEnt=function(t){this.lastEntPos.push(t.pos.copy()),this.updateColors(!1)},r.prototype.updateEnt=function(t){this.lastEntPos[t.index].copyFrom(t.pos),this.updateColors(!1)},r.prototype.removeEnt=function(t){s(this.lastEntPos,t.index),this.lastEntPos.pop(),this.updateColors(!1)},r.prototype.setColorGen=function(t){this.emptyCellColorGen=t(0),this.antCellColorGen=t(1),this.bodyColorGen=t(2),this.headColorGen=t(3),this.updateColors(!0)},r.prototype.updateColors=function(t){var e=this.world.numColors,i=this.world.ents.length;if(this.emptyCellColorGen&&(t||this.emptyCellColors.length!==e))for(this.emptyCellColors=this.emptyCellColorGen(e);this.emptyCellColors.length<=l.MaxColor;)this.emptyCellColors.push(this.emptyCellColors[this.emptyCellColors.length%e]);if(this.antCellColorGen&&(t||this.antCellColors.length!==e))for(this.antCellColors=this.antCellColorGen(e);this.antCellColors.length<=l.MaxColor;)this.antCellColors.push(this.antCellColors[this.antCellColors.length%e]);this.bodyColorGen&&(t||this.bodyColors.length!==i)&&(this.bodyColors=this.bodyColorGen(i)),this.headColorGen&&(t||this.headColors.length!==i)&&(this.headColors=this.headColorGen(i))},r.prototype.setLabeled=function(t){this.labeled=t,this.labeled?this.drawCell=this.drawLabeledCell:this.drawCell=this.drawUnlabeledCell},r.prototype.drawUnlabeledCell=function(t,e,i){this.ctx2d.beginPath();var o=this.hexGrid.cellPath(t);return this.ctx2d.closePath(),this.ctx2d.fillStyle=i[e],this.ctx2d.fill(),o},r.prototype.drawLabeledCell=function(t,e,i){var o=this.drawUnlabeledCell(t,e,i);this.drawCellLabel(t,o)},r.prototype.drawCellLabel=function(t,e){function i(t,i){var n=o.measureText(t).width;o.strokeText(t,e.x-n/2,e.y+i)}e||(e=this.hexGrid.toScreen(t));var o=this.ctx2d;o.lineWidth=1,o.strokeStyle="#fff",i(t.toCube().toString(),0),i(t.toOddQOffset().toString(),14)},r.prototype.drawCell=r.prototype.drawUnlabeledCell,r.prototype.step=function(){var t,e=this.world.ents,i=!1;for(t=0;t<e.length;t++)i=this.hexGrid.bounds.expandTo(e[t].pos)||i;if(i&&(this.needsRedraw=!0,this.hexGrid.updateSize()),!this.needsRedraw){for(t=0;t<e.length;t++){var o=this.world.tile.get(this.lastEntPos[t]);this.drawCell(this.lastEntPos[t],o&l.MaskColor,this.antCellColors)}for(t=0;t<e.length;t++)this.drawEnt(e[t]),this.lastEntPos[t].copyFrom(e[t].pos)}},r.prototype.drawEnt=function(t){var e=this.world.tile.get(t.pos);e&l.FlagVisited||(e=this.world.tile.set(t.pos,e|l.FlagVisited),this.drawCell(t.pos,e&l.MaskColor,this.antCellColors));var i=this.hexGrid.toScreen(t.pos),o=this.hexGrid.cellSize*t.size;5>=o?this.drawSmallEnt(t,i,o):this.drawFullEnt(t,i,o),this.labeled&&this.drawCellLabel(t.pos,i)},r.prototype.drawFullEnt=function(t,e,i){var o=this.hexGrid.ctxHex,n=o.ctx2d,r=t.dir,s=t.dir+1;n.fillStyle=this.headColors[t.index],n.strokeStyle=this.headColors[t.index],n.lineWidth=i/2,n.beginPath(),o.wedge(e.x,e.y,i,r,s,!1),n.closePath(),n.fill(),n.stroke(),n.fillStyle=this.bodyColors[t.index],n.beginPath(),o.wedge(e.x,e.y,i,r,s,!0),n.closePath(),n.fill()},r.prototype.drawSmallEnt=function(t,e,i){var o=this.hexGrid.ctxHex,n=o.ctx2d;n.fillStyle=this.headColors[t.index],n.beginPath(),o.full(e.x,e.y,i),n.closePath(),n.fill()}}],["world.js","hexant","world.js",{"./coord.js":9,"./hextiletree.js":14},function(t,e,i,o,n){"use strict";function r(){this.numColors=0,this.numStates=0,this.tile=new h(a(0,0),2,2),this.ents=[],this.views=[]}var s=t("./coord.js"),h=t("./hextiletree.js"),a=s.OddQOffset;i.exports=r,r.StateShift=8,r.ColorShift=8,r.TurnShift=16,r.FlagVisited=256,r.MaskFlags=65280,r.MaskColor=255,r.MaxState=255,r.MaxColor=255,r.TurnMask=255,r.prototype.step=function(){var t;for(t=0;t<this.ents.length;t++)this.ents[t].step(this);for(t=0;t<this.views.length;t++){var e=this.views[t];e.step(),e.needsRedraw&&(e.redraw(),e.needsRedraw=!1)}},r.prototype.stepn=function(t){var e,i;for(e=0;t>e;e++){for(i=0;i<this.ents.length;i++)this.ents[i].step(this);for(i=0;i<this.views.length;i++)this.views[i].step()}var o=!1;for(e=0;e<this.views.length;e++){var n=this.views[e];n.needsRedraw&&(n.redraw(),n.needsRedraw=!1,o=!0)}return o},r.prototype.addEnt=function(t){this.numColors=Math.max(this.numColors,t.numColors),this.numStates=Math.max(this.numStates,t.numStates),t.index=this.ents.length,this.ents.push(t);var e=this.tile.get(t.pos);e&r.FlagVisited||(e=this.tile.set(t.pos,e|r.FlagVisited));for(var i=0;i<this.views.length;i++)this.views[i].addEnt(t);return t},r.prototype.updateEnt=function(t,e){for(void 0===e?e=t.index:t.index=e,this.ents[e]!==t&&(this.ents[e]=t),this.numColors=0,this.numStates=0,e=0;e<this.ents.length;e++)this.numColors=Math.max(this.numColors,this.ents[e].numColors),this.numStates=Math.max(this.numStates,this.ents[e].numStates);for(e=0;e<this.views.length;e++)this.views[e].updateEnt(t);return t},r.prototype.removeEnt=function(t){if(this.ents[t.index]!==t)throw new Error("removeEnt mismatch");for(var e=t.index,i=e++;e<this.ents.length;e++,i++)this.ents[i]=this.ents[e],this.ents[i].index=i;for(this.ents.pop(),e=0;e<this.views.length;e++)this.views[e].removeEnt(t);return t},r.prototype.addView=function(t){return this.views.push(t),t.updateEnts(),t}}],["husl.js","husl","husl.js",{},function(t,e,i,o,n){(function(){var t,e,o,n,r,s,h,a,l,u,p,c,d,f,y,m,v,g,w;c={R:[3.2409699419045213,-1.5373831775700935,-.4986107602930033],G:[-.9692436362808798,1.8759675015077206,.04155505740717561],B:[.05563007969699361,-.20397695888897657,1.0569715142428786]},d={X:[.4123907992659595,.35758433938387796,.1804807884018343],Y:[.21263900587151036,.7151686787677559,.07219231536073371],Z:[.01933081871559185,.11919477979462599,.9505321522496606]},m=.19783000664283681,v=.468319994938791,u=903.2962962962963,s=.008856451679035631,a=function(t){var e,i,o,n,r,h,a,l,p,d,f,y,m,v,g,w,x,b;for(v=Math.pow(t+16,3)/1560896,g=v>s?v:t/u,m=[],d=["R","G","B"],o=0,r=d.length;r>o;o++)for(i=d[o],f=c[i],a=f[0],l=f[1],p=f[2],y=[0,1],n=0,h=y.length;h>n;n++)w=y[n],x=(284517*a-94839*p)*g,b=(838422*p+769860*l+731718*a)*t*g-769860*w*t,e=(632260*p-126452*l)*g+126452*w,m.push([x/e,b/e]);return m},l=function(t,e){return(t[1]-e[1])/(e[0]-t[0])},n=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},p=function(t,e){var i,o,n;return n=e[0],i=e[1],o=i/(Math.sin(t)-n*Math.cos(t)),0>o?null:o},y=function(t){var e,i,o,r,s,h,u,p;for(r=[],h=a(t),i=0,o=h.length;o>i;i++)u=h[i],s=u[0],e=u[1],p=l([s,e],[-1/s,0]),r.push(n([p,e+p*s]));return Math.min.apply(Math,r)},f=function(t,e){var i,o,n,r,s,h,l;for(i=e/360*Math.PI*2,s=[],l=a(t),o=0,r=l.length;r>o;o++)h=l[o],n=p(i,h),null!==n&&s.push(n);return Math.min.apply(Math,s)},r=function(t,e){var i,o,n,r;for(r=0,i=o=0,n=t.length-1;n>=0?n>=o:o>=n;i=n>=0?++o:--o)r+=t[i]*e[i];return r},h=function(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055},w=function(t){var e;return e=.055,t>.04045?Math.pow((t+e)/(1+e),2.4):t/12.92},o={xyz:{},luv:{},lch:{},husl:{},huslp:{},rgb:{},hex:{}},o.xyz.rgb=function(t){var e,i,o;return o=h(r(c.R,t)),i=h(r(c.G,t)),e=h(r(c.B,t)),[o,i,e]},o.rgb.xyz=function(t){var e,i,o,n,s,h,a;return o=t[0],i=t[1],e=t[2],a=[w(o),w(i),w(e)],n=r(d.X,a),s=r(d.Y,a),h=r(d.Z,a),[n,s,h]},e=function(t){return s>=t?t*u:116*Math.pow(t,1/3)-16},t=function(t){return 8>=t?t/u:Math.pow((t+16)/116,3)},o.xyz.luv=function(t){var i,o,n,r,s,h,a,l;return r=t[0],s=t[1],h=t[2],0===s?[0,0,0]:(i=e(s),a=4*r/(r+15*s+3*h),l=9*s/(r+15*s+3*h),o=13*i*(a-m),n=13*i*(l-v),[i,o,n])},o.luv.xyz=function(e){var i,o,n,r,s,h,a,l;return i=e[0],o=e[1],n=e[2],0===i?[0,0,0]:(a=o/(13*i)+m,l=n/(13*i)+v,s=t(i),r=0-9*s*a/((a-4)*l-a*l),h=(9*s-15*l*s-l*r)/(3*l),[r,s,h])},o.luv.lch=function(t){var e,i,o,n,r,s;return n=t[0],r=t[1],s=t[2],e=Math.sqrt(Math.pow(r,2)+Math.pow(s,2)),1e-8>e?i=0:(o=Math.atan2(s,r),i=360*o/2/Math.PI,0>i&&(i=360+i)),[n,e,i]},o.lch.luv=function(t){var e,i,o,n,r,s;return n=t[0],e=t[1],i=t[2],o=i/360*2*Math.PI,r=Math.cos(o)*e,s=Math.sin(o)*e,[n,r,s]},o.husl.lch=function(t){var e,i,o,n,r;return i=t[0],n=t[1],o=t[2],o>99.9999999||1e-8>o?e=0:(r=f(o,i),e=r/100*n),[o,e,i]},o.lch.husl=function(t){var e,i,o,n,r;return o=t[0],e=t[1],i=t[2],o>99.9999999||1e-8>o?n=0:(r=f(o,i),n=e/r*100),[i,n,o]},o.huslp.lch=function(t){var e,i,o,n,r;return i=t[0],n=t[1],o=t[2],o>99.9999999||1e-8>o?e=0:(r=y(o),e=r/100*n),[o,e,i]},o.lch.huslp=function(t){var e,i,o,n,r;return o=t[0],e=t[1],i=t[2],o>99.9999999||1e-8>o?n=0:(r=y(o),n=e/r*100),[i,n,o]},o.rgb.hex=function(t){var e,i,o,n;for(i="#",o=0,n=t.length;n>o;o++){if(e=t[o],e=Math.round(1e6*e)/1e6,0>e||e>1)throw new Error("Illegal rgb value: "+e);e=Math.round(255*e).toString(16),1===e.length&&(e="0"+e),i+=e}return i},o.hex.rgb=function(t){var e,i,o,n,r,s,h,a;for("#"===t.charAt(0)&&(t=t.substring(1,7)),s=t.substring(0,2),i=t.substring(2,4),e=t.substring(4,6),h=[s,i,e],a=[],o=0,n=h.length;n>o;o++)r=h[o],a.push(parseInt(r,16)/255);return a},o.lch.rgb=function(t){return o.xyz.rgb(o.luv.xyz(o.lch.luv(t)))},o.rgb.lch=function(t){return o.luv.lch(o.xyz.luv(o.rgb.xyz(t)))},o.husl.rgb=function(t){return o.lch.rgb(o.husl.lch(t))},o.rgb.husl=function(t){return o.lch.husl(o.rgb.lch(t))},o.huslp.rgb=function(t){return o.lch.rgb(o.huslp.lch(t))},o.rgb.huslp=function(t){return o.lch.huslp(o.rgb.lch(t))},g={},g.fromRGB=function(t,e,i){return o.rgb.husl([t,e,i])},g.fromHex=function(t){return o.rgb.husl(o.hex.rgb(t))},g.toRGB=function(t,e,i){return o.husl.rgb([t,e,i])},g.toHex=function(t,e,i){return o.rgb.hex(o.husl.rgb([t,e,i]))},g.p={},g.p.toRGB=function(t,e,i){return o.xyz.rgb(o.luv.xyz(o.lch.luv(o.huslp.lch([t,e,i]))))},g.p.toHex=function(t,e,i){return o.rgb.hex(o.xyz.rgb(o.luv.xyz(o.lch.luv(o.huslp.lch([t,e,i])))))},g.p.fromRGB=function(t,e,i){return o.lch.huslp(o.luv.lch(o.xyz.luv(o.rgb.xyz([t,e,i]))))},g.p.fromHex=function(t){return o.lch.huslp(o.luv.lch(o.xyz.luv(o.rgb.xyz(o.hex.rgb(t)))))},g._conv=o,g._getBounds=a,g._maxChromaForLH=f,g._maxSafeChromaForL=y,"undefined"!=typeof i&&null!==i||"undefined"!=typeof jQuery&&null!==jQuery||"undefined"!=typeof requirejs&&null!==requirejs||(this.HUSL=g),"undefined"!=typeof i&&null!==i&&(i.exports=g),"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.husl=g),"undefined"!=typeof requirejs&&null!==requirejs&&"undefined"!=typeof define&&null!==define&&define(g)}).call(this)}],["koerper.js","koerper","koerper.js",{wizdom:32},function(t,e,i,o,n){"use strict";function r(t){s.call(this,this),this.actualNode=t,this.actualDocument=t.ownerDocument,this.documentElement=this.createBody(),this.documentElement.parentNode=this,t.appendChild(this.documentElement.actualNode),this.firstChild=this.documentElement,this.lastChild=this.documentElement}function s(t){c.call(this,t),this.actualNode=null}function h(t,e,i){c.call(this,t,i),i?this.actualNode=t.actualDocument.createElementNS(i,e):this.actualNode=t.actualDocument.createElement(e),this.attributes=this.actualNode.attributes}function a(t,e){s.call(this,t),this.actualNode=t.actualDocument.createTextNode(e)}function l(t,e){s.call(this,t),this.actualNode=t.actualDocument.createTextNode(""),this.actualFirstChild=null,this.actualBody=t.actualDocument.createElement("BODY")}function u(t,e){s.call(this,t),this.actualFirstChild=e.firstChild}var p=t("wizdom"),c=p.prototype.Node;p.prototype.Element,p.prototype.TextNode;i.exports=r,r.prototype=Object.create(p.prototype),r.prototype.Node=s,r.prototype.Element=h,r.prototype.TextNode=a,r.prototype.Body=l,r.prototype.OpaqueHtml=u,r.prototype.createBody=function(t){return new this.Body(this,t)},r.prototype.getActualParent=function(){return this.actualNode},s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.prototype.insertBefore=function(t,e){if(e&&e.parentNode!==this)throw new Error("Can't insert before node that is not a child of parent");c.prototype.insertBefore.call(this,t,e);var i,o=this.getActualParent();return e&&(i=e.getActualFirstChild()),i||(i=this.getActualNextSibling()),i&&i.parentNode!==o&&(i=null),o.insertBefore(t.actualNode,i||null),t.inject(),t},s.prototype.removeChild=function(t){if(!t)throw new Error("Can't remove child "+t);t.extract(),this.getActualParent().removeChild(t.actualNode),c.prototype.removeChild.call(this,t)},s.prototype.setAttribute=function(t,e){this.actualNode.setAttribute(t,e)},s.prototype.getAttribute=function(t){this.actualNode.getAttribute(t)},s.prototype.hasAttribute=function(t){this.actualNode.hasAttribute(t)},s.prototype.removeAttribute=function(t){this.actualNode.removeAttribute(t)},s.prototype.addEventListener=function(t,e,i){this.actualNode.addEventListener(t,e,i)},s.prototype.removeEventListener=function(t,e,i){this.actualNode.removeEventListener(t,e,i)},s.prototype.inject=function(){},s.prototype.extract=function(){},s.prototype.getActualParent=function(){return this.actualNode},s.prototype.getActualFirstChild=function(){return this.actualNode},s.prototype.getActualNextSibling=function(){return null},Object.defineProperty(s.prototype,"innerHTML",{get:function(){return this.actualNode.innerHTML}}),h.prototype=Object.create(s.prototype),h.prototype.constructor=h,h.prototype.nodeType=1,a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype.nodeType=3,Object.defineProperty(a.prototype,"data",{set:function(t){this.actualNode.data=t},get:function(){return this.actualNode.data}}),l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.nodeType=13,l.prototype.extract=function(){for(var t,e=this.actualBody,i=this.actualNode,o=this.parentNode.getActualParent(),n=this.getActualFirstChild();n&&n!==i;)t=n.nextSibling,e?e.appendChild(n):o.removeChild(n),n=t},l.prototype.inject=function(){if(!this.parentNode)throw new Error("Can't inject without a parent node");for(var t,e=this.actualBody,i=this.actualNode,o=this.parentNode.getActualParent(),n=e.firstChild;n;)t=n.nextSibling,o.insertBefore(n,i),n=t},l.prototype.getActualParent=function(){return this.parentNode?this.parentNode.getActualParent():this.actualBody},l.prototype.getActualFirstChild=function(){return this.firstChild?this.firstChild.getActualFirstChild():this.actualNode},l.prototype.getActualNextSibling=function(){return this.actualNode},Object.defineProperty(l.prototype,"innerHTML",{get:function(){if(this.parentNode){this.extract();var t=this.actualBody.innerHTML;return this.inject(),t}return this.actualBody.innerHTML},set:function(t){return this.parentNode?(this.extract(),this.actualBody.innerHTML=t,this.firstChild=this.lastChild=new u(this.ownerDocument,this.actualBody),this.inject()):(this.actualBody.innerHTML=t,this.firstChild=this.lastChild=new u(this.ownerDocument,this.actualBody)),t}}),u.prototype=Object.create(s.prototype),u.prototype.constructor=u,u.prototype.getActualFirstChild=function(){return this.actualFirstChild}}],["lib/performance-now.js","performance-now/lib","performance-now.js",{},function(t,e,i,o,n){(function(){var t,e,o;"undefined"!=typeof performance&&null!==performance&&performance.now?i.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(i.exports=function(){return(t()-o)/1e6},e=process.hrtime,t=function(){var t;return t=e(),1e9*t[0]+t[1]},o=t()):Date.now?(i.exports=function(){return Date.now()-o},o=Date.now()):(i.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}],["index.js","raf","index.js",{"performance-now":29},function(t,e,i,o,n){for(var r=t("performance-now"),s="undefined"==typeof window?{}:window,h=["moz","webkit"],a="AnimationFrame",l=s["request"+a],u=s["cancel"+a]||s["cancelRequest"+a],p=!0,c=0;c<h.length&&!l;c++)l=s[h[c]+"Request"+a],u=s[h[c]+"Cancel"+a]||s[h[c]+"CancelRequest"+a];if(!l||!u){p=!1;var d=0,f=0,y=[],m=1e3/60;l=function(t){if(0===y.length){var e=r(),i=Math.max(0,m-(e-d));d=i+e,setTimeout(function(){var t=y.slice(0);y.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(d)}catch(i){setTimeout(function(){throw i},0)}},Math.round(i))}return y.push({handle:++f,callback:t,cancelled:!1}),f},u=function(t){for(var e=0;e<y.length;e++)y[e].handle===t&&(y[e].cancelled=!0)}}i.exports=function(t){return p?l.call(s,function(){try{t.apply(this,arguments)}catch(e){setTimeout(function(){throw e},0)}}):l.call(s,t)},i.exports.cancel=function(){u.apply(s,arguments)}}],["index.js","rezult","index.js",{},function(t,e,i,o,n){"use strict";function r(t,e){var i=this;i.err=t||null,i.value=e}i.exports=r,r.prototype.toValue=function(){var t=this;if(t.err)throw t.err;return t.value},r.prototype.toCallback=function(t){var e=this;t(e.err,e.value)},r.just=function(t){return new r(null,t)},r.error=function(t){return new r(t,null)},r.lift=function(t){return function(){try{return r.just(t.apply(this,arguments))}catch(e){return r.error(e)}}}}],["dom.js","wizdom","dom.js",{},function(t,e,i,o,n){"use strict";function r(t){this.doctype=null,this.documentElement=null,this.namespaceURI=t||""}function s(t){this.ownerDocument=t,this.parentNode=null,this.firstChild=null,this.lastChild=null,this.previousSibling=null,this.nextSibling=null}function h(t,e){s.call(this,t),this.data=e}function a(t,e){s.call(this,t),this.data=e}function l(t,e,i){s.call(this,t),this.tagName=e,this.namespaceURI=i,this.attributes=new this.ownerDocument.NamedNodeMap}function u(t,e,i){this.ownerDocument=t,this.name=e,this.value=null,this.namespaceURI=i}function p(){this.length=0}i.exports=r,r.prototype.nodeType=9,r.prototype.Node=s,r.prototype.Element=l,r.prototype.TextNode=h,r.prototype.Comment=a,r.prototype.Attr=u,r.prototype.NamedNodeMap=p,r.prototype.createTextNode=function(t){return new this.TextNode(this,t)},r.prototype.createComment=function(t){return new this.Comment(this,t)},r.prototype.createElement=function(t,e){return new this.Element(this,t,e||this.namespaceURI)},r.prototype.createElementNS=function(t,e){return new this.Element(this,e,t||this.namespaceURI)},r.prototype.createAttribute=function(t,e){return new this.Attr(this,t,e||this.namespaceURI)},r.prototype.createAttributeNS=function(t,e){return new this.Attr(this,e,t||this.namespaceURI)},s.prototype.appendChild=function(t){return this.insertBefore(t,null)},s.prototype.insertBefore=function(t,e){if(!t)throw new Error("Can't insert null child");if(t.ownerDocument!==this.ownerDocument)throw new Error("Can't insert child from foreign document");t.parentNode&&t.parentNode.removeChild(t);var i;i=e?e.previousSibling:this.lastChild,i&&(i.nextSibling=t),e&&(e.previousSibling=t),t.nextSibling=e,t.previousSibling=i,t.parentNode=this,e||(this.lastChild=t),i||(this.firstChild=t)},s.prototype.removeChild=function(t){if(!t)throw new Error("Can't remove null child");var e=t.parentNode;if(e!==this)throw new Error("Can't remove node that is not a child of parent");return t===e.firstChild&&(e.firstChild=t.nextSibling),t===e.lastChild&&(e.lastChild=t.previousSibling),t.previousSibling&&(t.previousSibling.nextSibling=t.nextSibling),t.nextSibling&&(t.nextSibling.previousSibling=t.previousSibling),t.previousSibling=null,t.parentNode=null,t.nextSibling=null,t},h.prototype=Object.create(s.prototype),h.prototype.constructor=h,h.prototype.nodeType=3,a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype.nodeType=8,l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.nodeType=1,l.prototype.hasAttribute=function(t,e){var i=this.attributes.getNamedItem(t,e);return!!i},l.prototype.getAttribute=function(t,e){var i=this.attributes.getNamedItem(t,e);return i?i.value:null},l.prototype.setAttribute=function(t,e,i){var o=this.ownerDocument.createAttribute(t,i);o.value=e,this.attributes.setNamedItem(o,i)},l.prototype.removeAttribute=function(t,e){this.attributes.removeNamedItem(t,e)},l.prototype.hasAttributeNS=function(t,e){return this.hasAttribute(e,t)},l.prototype.getAttributeNS=function(t,e){return this.getAttribute(e,t)},l.prototype.setAttributeNS=function(t,e,i){this.setAttribute(e,i,t)},l.prototype.removeAttributeNS=function(t,e){this.removeAttribute(e,t)},u.prototype.nodeType=2,p.prototype.getNamedItem=function(t,e){e=e||"";var i=encodeURIComponent(e)+":"+encodeURIComponent(t);return this[i]},p.prototype.setNamedItem=function(t){var e=t.namespaceURI||"",i=t.name,o=encodeURIComponent(e)+":"+encodeURIComponent(i),n=this[o];return n||(this[this.length]=t,this.length++,n=null),this[o]=t,n},p.prototype.removeNamedItem=function(t,e){e=e||"";var i=encodeURIComponent(e)+":"+encodeURIComponent(t),o=this[i];if(!o)throw new Error("Not found");var n=Array.prototype.indexOf.call(this,o);delete this[i],delete this[n],this.length--},p.prototype.item=function(t){return this[t]},p.prototype.getNamedItemNS=function(t,e){return this.getNamedItem(e,t)},p.prototype.setNamedItemNS=function(t){return this.setNamedItem(t)},p.prototype.removeNamedItemNS=function(t,e){return this.removeNamedItem(e,t)}}]])("hexant/index.js");
